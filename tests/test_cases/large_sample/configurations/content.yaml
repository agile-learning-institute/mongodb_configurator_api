title: Content Collection
description: Collection for managing various types of content
name: content
versions:
  - version: "1.0.0.1"
    add_indexes:
      - name: contentTypeIndex
        key:
          content_type: 1
        options:
          unique: false
      - name: statusIndex
        key:
          status: 1
        options:
          unique: false
    test_data: content.1.0.0.1.json
  - version: "1.0.0.2"
    add_indexes:
      - name: authorIndex
        key:
          author_id: 1
        options:
          unique: false
    test_data: content.1.0.0.2.json
  - version: "1.0.1.3"
    aggregations:
      - name: "merge_content_fields"
        pipeline:
          - $addFields:
              full_title: { $concat: ["$title", " - ", "$subtitle"] }
          - $unset:
              - "subtitle"
          - $out: "content"
    test_data: content.1.0.1.3.json 